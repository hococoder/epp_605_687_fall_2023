<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week05/08-IntroductionToMapKit"/><meta name="twitter:url" content="https://hococoder.com/posts/Week05/08-IntroductionToMapKit"/><meta name="og:url" content="https://hococoder.com/posts/Week05/08-IntroductionToMapKit"/><title>Week 5 - Introduction to MapKit | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 5 - Introduction to MapKit | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 5 - Introduction to MapKit | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><header><div class="wrapper"><a class="site-name" href="/">Mobile Application Development for the iOS Platform</a><nav><ul><li><a href="/epp_605_687_spring_2023/posts/Intro/About Me">AboutMe</a></li><li><a href="/epp_605_687_spring_2023/posts/Intro/Example App">ExampleApp</a></li><li><a href="/epp_605_687_spring_2023/posts/Week00/00-Week00Overview">Week0</a></li><li><a href="/epp_605_687_spring_2023/posts/Week01/00-Week01Overview">Week1</a></li><li><a href="/epp_605_687_spring_2023/posts/Week02/00-Week02Overview">Week2</a></li><li><a href="/epp_605_687_spring_2023/posts/Week03/00-Week03Overview">Week3</a></li><li><a href="/epp_605_687_spring_2023/posts/Week04/00-Week04Overview">Week4</a></li><li><a href="/epp_605_687_spring_2023/posts/Week05/00-Week05Overview">Week5</a></li><li><a href="/epp_605_687_spring_2023/posts/Week06/00-Week06Overview">Week6</a></li><li><a href="/epp_605_687_spring_2023/posts/Week07/00-Week07Overview">Week7</a></li><li><a href="/epp_605_687_spring_2023/posts/Week08/00-Week08Overview">Week8</a></li><li><a href="/epp_605_687_spring_2023/posts/Week09/00-Week09Overview">Week9</a></li><li><a href="/epp_605_687_spring_2023/posts/Week10/00-Week10Overview">Week10</a></li><li><a href="/epp_605_687_spring_2023/posts/Week11/00-Week11Overview">Week11</a></li><li><a href="/epp_605_687_spring_2023/posts/Week12/00-Week12Overview">Week12</a></li><li><a href="/epp_605_687_spring_2023/posts/Week13/00-Week13Overview">Week13</a></li><li><a href="/epp_605_687_spring_2023/posts/Week14/00-Week14Overview">Week14</a></li></ul></nav></div></header><div class="wrapper"><h1>Week 5 - Introduction to MapKit</h1><p style="float: left">Previous:  <A HREF="../07-WrappingUIViews/index.html">Wrapping UIViews</A></p><p style="float: right">Next:  <A HREF="../09-MapKitExample/index.html" class="nextModule">MapKit Example</A></p><BR/><BR/><h2>Framework Overview</h2><center> <iframe width="1280" height="720" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.81.2/mwEmbedFrame.php/p/1458241/uiconf_id/14487351/entry_id/1_gijutklu?wid=_1458241&iframeembed=true&playerId=kaltura_player&entry_id=1_gijutklu&flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[mediaProxy.preferedFlavorBR]=2500&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;flashvars[EmbedPlayer.NotPlayableDownloadLink]=true;&wid=1_abkvs1gz"allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="Kaltura Player">
  </iframe>
</center><p><code>MapKit</code> is the same framework in iOS that is used to power the Maps application on your device. In addition to maps, you can display satellite imagery, points of interest, placemark information, and transportation paths. Most of this information is obtained from Apple’s Map services, so you don’t have to worry about storing massive amounts of map information in your app.</p><p>We spoke about the new <code>Map</code> view in SwiftUI earlier, but recall that it was limited in its functionality and doesn't include many of the features mentioned above. This module will cover the UIKit mapping capabilities, and in the example we'll show how these can be wrapped in SwiftUI to be used in our app.</p><p><code>MKMapView</code> is the embeddable map similar to the one found in Maps. You can use this class to center the map on a given coordinate, specify the size of the area to display, annotate the map, and the region to view. Better yet, you get scrolling and zooming for free (however, if you wish, these can be disabled)</p><img src="../../../week05/MapKit.png#centerResized" alt="A MapKit example"/><p>MKMapView is powerful, but, and you probably guessed by now, it needs a delegate to properly function. <code>MKMapViewDelegate</code> can respond to map position changes, load map data, track user location, and manage overlays and annotations.</p><h2><code>MKMapItem</code></h2><p><code>MKMapItem</code>s include geographic locations and any interesting data for that location (an address, for example). A special instance of <code>MKMapItem</code> represents the user’s current location. If you wish to launch Maps with some prepopulated items, instead of using an embedded map in your app, you can use <code>MKMapItem</code>’s <code>openMaps(with:launchItems)</code> method.</p><h2>Annotations</h2><p>We covered the ability to add annotations when we discussed the SwiftUI <code>Map</code> view, but UIKit's map is a bit more powerful, at least in terms of how they are rendered on screen.</p><p>An annotation, pointed out here by the red arrow on the image, can be used to callout a specific location. Annotations can contain an image, a label, and a disclosure button, which can be used to show more details on the annotation. Something to keep in mind about annotations is that they are dequeued like <code>UITableViewCell</code>s to better manage memory usage. So, don’t create them directly, but ask the <code>MKMapView</code> to dequeue one for you instead.</p><img src="../../../week05/MapKit-Annotations.png#centerResized" alt="A MapKit example"/><h2>Getting Directions</h2><p>In addition to map tiles, you can also get access to Apple’s directions API to generate routes between <code>MKMapItem</code>s. A properly configured <code>MKDirectionsRequest</code> object can be used to set parameters for such a request - such as the transportation type, the start and end points, and whether to request alternate routes or not. An <code>MKDirections</code> object then takes that request, and when you can call <code>calculateDirections(WithCompletionHandler:)</code>, you get an array of routes that you can add as overlays in your map. The examples video will show an example of this in action.</p><p>The overlays you get back from the <code>MKDirections</code> object can get rendered onto the <code>MKMapView</code> via its <code>add(_, level:)</code> method. You can either render the paths above the roads or above the labels on the map. Again - we’ll see an example of this in the examples video.</p><img src="../../../week05/MapKit-Overlays.png#centerResized" alt="A MapKit example"/><p>Finally, MapKit allows you to take a snapshot of your current <code>MKMapView</code> if you want to use it elsewhere, like in a thumbnail. <code>MKMapSnapshotter</code> generates an <code>MKMapSnapshot</code> based on options you pass in via a <code>MKMapSnapshotOptions</code> object . One thing to keep in mind though is that since the snapshot is generated by Apple’s remote Map servers, any overlays or annotations you have on your map will not be captured on the snapshot, since they are added to your app locally.</p><p>Let's look at some of these in code, which we'll do in the next module.</p><p style="float: left">Previous:  <A HREF="../07-WrappingUIViews/index.html">Wrapping UIViews</A></p><p style="float: right">Next:  <A HREF="../09-MapKitExample/index.html" class="nextModule">MapKit Example</A></p></div><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2022-2023 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 16, 2023 at 2:38 PM</p><p><a href="https://twitter.com/hococoder" target="_blank">My Twitter</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://blackboard.jhu.edu" target="_blank">JHU Blackboard</a></p></footer></body></html>